<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Frequenty Asked Questions - Rotate Instance Identity Certificates Docs</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link rel="icon" href="https://vmware-tanzu.github.io/rotate-instance-identity-certificates/favicon.png">

  
  
  <link rel="stylesheet" href="/rotate-instance-identity-certificates/css/style.min.f3a9adc7827f84d41f3ca1fcade00d65cc7b7e59490558fa13825bc15f69eadf.css">
  
  <link rel="stylesheet" href="/rotate-instance-identity-certificates/css/copybutton.min.476cf5dd65a9af9c023c92279ab68dc31211540d4623c8e36c1b7e2d06ed31e4.css">
  

  

</head>

<body class='page page-default-single'>
  <div id="main-menu-mobile" class="main-menu-mobile">
  <ul>
    
    
    <li class="menu-item-home">
      <a href="/rotate-instance-identity-certificates/">
        <span>Home</span>
      </a>
    </li>
    
    <li class="menu-item-docs">
      <a href="/rotate-instance-identity-certificates/docs/">
        <span>Docs</span>
      </a>
    </li>
    
    <li class="menu-item-releases">
      <a href="https://github.com/vmware-tanzu/rotate-instance-identity-certificates/releases">
        <span>Releases</span>
      </a>
    </li>
    
  </ul>
</div>
  <div class="wrapper">
    <div class='header'>
  <div class="container">
    <div class="logo">
      <a href="https://vmware-tanzu.github.io/rotate-instance-identity-certificates"><img alt="Logo" src="https://docs.vmware.com/en/VMware-Tanzu-Kubernetes-Grid/images/GUID-8546DDD9-718A-42F7-9EDB-0BCC3A316BB6-low.png" /></a>
    </div>
    <div class="logo-mobile">
      <a href="https://vmware-tanzu.github.io/rotate-instance-identity-certificates"><img alt="Logo" src="/rotate-instance-identity-certificates" /></a>
    </div>
    <div id="main-menu" class="main-menu">
  <ul>
    
    
    <li class="menu-item-home">
      <a href="/rotate-instance-identity-certificates/">
        <span>Home</span>
      </a>
    </li>
    
    <li class="menu-item-docs">
      <a href="/rotate-instance-identity-certificates/docs/">
        <span>Docs</span>
      </a>
    </li>
    
    <li class="menu-item-releases">
      <a href="https://github.com/vmware-tanzu/rotate-instance-identity-certificates/releases">
        <span>Releases</span>
      </a>
    </li>
    
  </ul>
</div>
    <button id="toggle-main-menu-mobile" class="hamburger hamburger--slider" type="button">
  <span class="hamburger-box">
    <span class="hamburger-inner"></span>
  </span>
</button>
  </div>
</div>


    
    
    
    
    
    

    
    <div class="container pt-2 pt-md-6 pb-3 pb-md-6">
      <div class="row">
        <div class="col-12 col-md-3 mb-3">
          <div class="sidebar">
            
<div class="docs-menu">
  <h4>Docs</h4>
  <ul>
    
    <li class="">
      <a href="https://vmware-tanzu.github.io/rotate-instance-identity-certificates/docs/overview/">Overview</a>
    </li>
    
    <li class="">
      <a href="https://vmware-tanzu.github.io/rotate-instance-identity-certificates/docs/running/">Running the Tool</a>
    </li>
    
    <li class="active ">
      <a href="https://vmware-tanzu.github.io/rotate-instance-identity-certificates/docs/faq/">Frequenty Asked Questions</a>
    </li>
    
  </ul>
</div>

          </div>
        </div>
        <div class="col-12 col-md-9">
          
<h1 class="title">Frequenty Asked Questions</h1>
<div class="content ">
  <h2 id="why-must-the-tool-run-on-the-operations-manager-vm">Why must the tool run on the Operations Manager VM?</h2>
<p>Under the hood, we rely on the <code>bosh</code> and <code>credhub</code> CLIs. These programs are
already guaranteed to be present on the Operations Manager VM and are known to
be compatible with the currently deployed version of the platform, so we require
the tooling to run in this environment to prevent errors due to incompatible
versions or missing tools.</p>
<h2 id="how-long-does-the-rotation-take">How long does the rotation take?</h2>
<p>The rotation consists of 2 deployments, each of which must update the following instance groups:</p>
<ul>
<li>Diego Cells</li>
<li>Routers</li>
<li>Diego Brain</li>
<li>Credhub</li>
</ul>
<p>The number of cells and routers vary widely across installations, but you can
expect that an environment with a large number of cells and routers will take
much longer to rotate than a smaller environment.</p>
<h2 id="should-i-expect-downtime-during-the-rotation">Should I expect downtime during the rotation?</h2>
<p>The process is designed to maintain platform functionality.</p>
<p>The diego cells and routers do need to be updated during the rotation, so you
should ensure that any applications that cannot tolerate downtime are deployed
with more than one instance, and that your load balancer health checks are
correctly configured to detect unhealthy routers.</p>
<h2 id="does-this-tool-support-the-small-footprint-runtime">Does this tool support the Small Footprint Runtime?</h2>
<p>No.</p>
<h2 id="does-this-tool-support-isolation-segments-or-tas-for-windows">Does this tool support isolation segments or TAS for Windows?</h2>
<p>Yes. The tool will automatically detect whether isolation segments or Windows
cells are installed, and will perform the appropriate actions to rotate the
certificates on these environments as well.</p>
<h2 id="the-logs-are-very-verbose-can-i-troubleshoot-what-the-tool-is-doing-without">The logs are very verbose, can I troubleshoot what the tool is doing without</h2>
<p>seeing all of the output?</p>
<p>Yes. Output coming directly from the tool and not BOSH is prefixed with &ldquo;RIIC&rdquo;
for easy grepping:</p>
<pre><code>$ grep RIIC nohup.out
</code></pre>
</div>
</div>

        </div>
      </div>
    </div>
    
  </div>

  <div class="sub-footer">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="sub-footer-inner">
          <ul>
            <li class="zerostatic"><a href="https://www.zerostatic.io">www.zerostatic.io</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

  
  

  
  

  
  
  <script type="text/javascript" src="/rotate-instance-identity-certificates/js/scripts.min.1237ff71925bb8625c97a9af8db4c54525258bedfd7c47493daaff723bea755e.js"></script>
  <script type="text/javascript" src="/rotate-instance-identity-certificates/js/copybutton.min.77c4760065e0857938ecfdd85f440240e070906eed2337a1089b8fd6de73f9f8.js"></script>
  

  
  
  
    
  


</body>

</html>
