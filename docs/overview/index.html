<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.80.0" />
    <meta name="description" content="">
<meta name="author" content="VMware Tanzu">

    <link rel="icon" href="/rotate-instance-identity-certificates/images/favicon.png" type="image/png">

    <title>Overview :: Rotate Instance Identity Certificates Docs</title>

    
    <link href="/rotate-instance-identity-certificates/css/nucleus.css?1611078229" rel="stylesheet">
    <link href="/rotate-instance-identity-certificates/css/fontawesome-all.min.css?1611078229" rel="stylesheet">
    <link href="/rotate-instance-identity-certificates/css/hybrid.css?1611078229" rel="stylesheet">
    <link href="/rotate-instance-identity-certificates/css/featherlight.min.css?1611078229" rel="stylesheet">
    <link href="/rotate-instance-identity-certificates/css/perfect-scrollbar.min.css?1611078229" rel="stylesheet">
    <link href="/rotate-instance-identity-certificates/css/auto-complete.css?1611078229" rel="stylesheet">
    <link href="/rotate-instance-identity-certificates/css/atom-one-dark-reasonable.css?1611078229" rel="stylesheet">
    <link href="/rotate-instance-identity-certificates/css/theme.css?1611078229" rel="stylesheet">
    <link href="/rotate-instance-identity-certificates/css/hugo-theme.css?1611078229" rel="stylesheet">
    
    <link href="/rotate-instance-identity-certificates/css/theme-blue.css?1611078229" rel="stylesheet">
    
    

    <script src="/rotate-instance-identity-certificates/js/jquery-3.3.1.min.js?1611078229"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/rotate-instance-identity-certificates/docs/overview/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <img src="https://docs.vmware.com/en/VMware-Tanzu-Kubernetes-Grid/images/GUID-8546DDD9-718A-42F7-9EDB-0BCC3A316BB6-low.png" />

    </div>
    
  </div>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/rotate-instance-identity-certificates/docs/" title="Docs" class="dd-item
        parent
        
        
        ">
      <a href="/rotate-instance-identity-certificates/docs/">
          Docs
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/rotate-instance-identity-certificates/docs/overview/" title="Overview" class="dd-item active">
        <a href="/rotate-instance-identity-certificates/docs/overview/">
        Overview
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/rotate-instance-identity-certificates/docs/running/" title="Running the Tool" class="dd-item ">
        <a href="/rotate-instance-identity-certificates/docs/running/">
        Running the Tool
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/rotate-instance-identity-certificates/docs/faq/" title="Frequently Asked Questions" class="dd-item ">
        <a href="/rotate-instance-identity-certificates/docs/faq/">
        Frequently Asked Questions
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/rotate-instance-identity-certificates/releases/" title="" class="dd-item
        
        
        
        ">
      <a href="/rotate-instance-identity-certificates/releases/">
          
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

          
        
    </ul>

    
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      

      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <center>
    <a class="github-button" href="https://github.com/vmware-tanzu/rotate-instance-identity-certificates/releases/latest"
        data-icon="octicon-cloud-download" aria-label="Download on GitHub">Latest Release</a>

    <a class="github-button" href="https://github.com/vmware-tanzu/rotate-instance-identity-certificates" data-icon="octicon-star"
        data-show-count="true" aria-label="Star on GitHub">Star</a>

    <a class="github-button" href="https://github.com/vmware-tanzu/rotate-instance-identity-certificates/fork" data-icon="octicon-repo-forked"
        data-show-count="true" aria-label="Fork on GitHub">Fork</a>

    <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a
            href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>
</center>

<script async defer src="https://buttons.github.io/buttons.js"></script>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                  
                  
                  
                  <div id="top-github-link">
                    <a class="github-link" title='Edit this page' href="https://github.com/vmware-tanzu/rotate-instance-identity-certificates/edit/main/docs/riic-docs/contentdocs/overview.md" target="blank">
                      <i class="fas fa-code-branch"></i>
                      <span id="top-github-link-text">Edit this page</span>
                    </a>
                  </div>
                  
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/rotate-instance-identity-certificates/'>Rotate Instance Identity Certificates</a> > <a href='/rotate-instance-identity-certificates/docs/'>Docs</a> > Overview
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#intro">Intro</a></li>
    <li><a href="#procedure">Procedure</a></li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Overview
            </h1>
          

        


<h2 id="intro">Intro</h2>
<p>Tanzu Application Service (TAS) includes an internal certificate authority that
is used to sign instance identity certificates. These certificates are issued to
each application instance and are used to verify application identity for
routing and
<a href="https://tanzu.vmware.com/content/blog/new-in-pcf-2-1-app-container-identity-assurance-via-automatic-cert-rotation">other features</a>.</p>
<p>If these certificates expire, the platform will be unable to verify application
identity and route requests to the correct applications, resulting in downtime
for applications that are accessed through the platform routers.</p>
<p>These certificate authorities are not renewable via API.</p>

<div class="notices note" ><p>The <em>preferred</em> approach to ensuring that these certificates do not expire is
to upgrade TAS to version 2.7 or later, which has the effect of both renewing
the certificates and making them rotatable via common APIs. This tool is a
good option if you cannot complete the upgrade process prior to the certificate
expiration date.</p>
</div>

<h2 id="procedure">Procedure</h2>
<p>The tool orchestrates a 3-step rotation process which was designed to ensure
that the platform and applications do not experience connectivity issues during
the rotation.</p>
<ol>
<li>Generate and deploy new certificates (side by side with existing certificates)</li>
<li>Overwrite expiring certificates with new ones and redeploy</li>
<li>Cleanup</li>
</ol>
<p>This rotation results in two deployments, so the total amount of time required
depends on the size of the environment. The first deployment is performed
directly with BOSH, which creates a temporary discrepancy between the BOSH state
and the Operations Manager state. The final deployment is performed via
Operations Manager in order to bring it back in sync with BOSH.</p>
<p>Applications that are deployed with more than one instance should not expect an
interruption in service during the rotation.</p>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="/rotate-instance-identity-certificates/docs/" title="Docs"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/rotate-instance-identity-certificates/docs/running/" title="Running the Tool" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/rotate-instance-identity-certificates/js/clipboard.min.js?1611078229"></script>
    <script src="/rotate-instance-identity-certificates/js/perfect-scrollbar.min.js?1611078229"></script>
    <script src="/rotate-instance-identity-certificates/js/perfect-scrollbar.jquery.min.js?1611078229"></script>
    <script src="/rotate-instance-identity-certificates/js/jquery.sticky.js?1611078229"></script>
    <script src="/rotate-instance-identity-certificates/js/featherlight.min.js?1611078229"></script>
    <script src="/rotate-instance-identity-certificates/js/highlight.pack.js?1611078229"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/rotate-instance-identity-certificates/js/modernizr.custom-3.6.0.js?1611078229"></script>
    <script src="/rotate-instance-identity-certificates/js/learn.js?1611078229"></script>
    <script src="/rotate-instance-identity-certificates/js/hugo-learn.js?1611078229"></script>
    
    

  </body>
</html>

